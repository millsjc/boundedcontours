name: publish

on:
    release:
        types: [created, published, edited, released]
    workflow_dispatch:

jobs:
    upload_pypi:
        runs-on: ubuntu-latest
        steps:
          - uses: actions/download-artifact@v4
            with:
              name: artifact
              path: dist

          - uses: pypa/gh-action-pypi-publish@v1.8.11
            with:
              password: ${{ secrets.PYPI_API_KEY }}